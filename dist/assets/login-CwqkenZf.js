var e=(e,t,n)=>new Promise((a,o)=>{var r=e=>{try{s(n.next(e))}catch(t){o(t)}},i=e=>{try{s(n.throw(e))}catch(t){o(t)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,i);s((n=n.apply(e,t)).next())});import"./animations-ym2qmTId.js";const t={},n=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));o=Promise.allSettled(n.map(e=>{if((e=function(e){return"/"+e}(e))in t)return;t[e]=!0;const n=e.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const r=document.createElement("link");return r.rel=n?"stylesheet":"modulepreload",n||(r.as="script"),r.crossOrigin="",r.href=e,a&&r.setAttribute("nonce",a),document.head.appendChild(r),n?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})},a="navafitUser",o=new URLSearchParams(window.location.search).get("redirect");let r,i,s="signIn";const l={apiKey:"AIzaSyDjZaPepgushiuRtEKDX5Pb5wc0pxQ4dEU",authDomain:"adenaya-d37da.firebaseapp.com",projectId:"adenaya-d37da",storageBucket:"adenaya-d37da.firebasestorage.app",messagingSenderId:"685300496749",appId:"1:685300496749:web:1e48df6eec12424b460264",measurementId:"G-JTLFELS7HL"};function d(){const e=o||"index.html";window.location.href=e}function c(e,t="info"){const n=document.querySelector("[data-auth-status]");n&&(n.textContent=e,n.dataset.variant=t)}function u(){return e(this,null,function*(){if(r)return{firebaseAuth:i};const[{initializeApp:e}]=yield Promise.all([n(()=>import("https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"),[])]),[{getAuth:t,onAuthStateChanged:o,signInWithPopup:s,GoogleAuthProvider:u,OAuthProvider:p,signInWithEmailAndPassword:m,createUserWithEmailAndPassword:h}]=yield Promise.all([n(()=>import("https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"),[])]);r=e(l),i=t(r),i.languageCode="en";const g={google:new u,apple:new p("apple.com")};return g.apple.addScope("email"),g.apple.addScope("name"),o(i,e=>{e&&(!function(e){var t,n;if(!e)return;const o={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,provider:(null==(n=null==(t=e.providerData)?void 0:t[0])?void 0:n.providerId)||"password",timestamp:Date.now()};localStorage.setItem(a,JSON.stringify(o))}(e),c("Authenticated as "+(e.displayName||e.email),"success"),setTimeout(d,800))}),{firebaseAuth:i,providers:g,signInWithPopup:s,signInWithEmailAndPassword:m,createUserWithEmailAndPassword:h}})}function p(){return e(this,null,function*(){try{const{providers:e,signInWithPopup:t}=yield u();yield t(i,e.google)}catch(e){console.error("Google auth failed",e),c(e.message||"Google login failed","error")}})}function m(){return e(this,null,function*(){try{const{providers:e,signInWithPopup:t}=yield u();yield t(i,e.apple)}catch(e){console.error("Apple auth failed",e),c(e.message||"Apple login failed","error")}})}function h(t){return e(this,null,function*(){var e,n;t.preventDefault();const a=null==(e=document.getElementById("emailInput"))?void 0:e.value,o=null==(n=document.getElementById("passwordInput"))?void 0:n.value;if(a&&o)try{const{signInWithEmailAndPassword:e,createUserWithEmailAndPassword:t}=yield u();"signUp"===s?(yield t(i,a,o),c("Account created successfully","success")):(yield e(i,a,o),c("Welcome back","success"))}catch(r){console.error("Email auth failed",r),c(r.message||"Authentication failed","error")}else c("Email and password required","error")})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("[data-auth-google]"),t=document.querySelector("[data-auth-apple]"),n=document.querySelector("[data-auth-email-form]");null==e||e.addEventListener("click",p),null==t||t.addEventListener("click",m),null==n||n.addEventListener("submit",h),function(){const e=document.querySelector("[data-email-mode-toggle]");e&&e.addEventListener("click",()=>{s="signIn"===s?"signUp":"signIn",e.textContent="signIn"===s?"Need an account? Switch to Sign Up":"Already have an account? Sign In";const t=document.querySelector("[data-email-mode-label]");t&&(t.textContent="signIn"===s?"Sign In with Email":"Sign Up with Email")})}(),function(){const e=localStorage.getItem(a);if(e)try{const t=JSON.parse(e),n=document.querySelector("[data-auth-summary]");n&&(n.innerHTML=`<p class="text-sm text-gray-400">Signed in as</p><p class="text-lg">${t.displayName||t.email}</p>`)}catch(t){console.warn("Failed to parse stored user",t)}}()});
//# sourceMappingURL=login-CwqkenZf.js.map
