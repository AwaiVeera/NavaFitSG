{"version":3,"file":"ai-coach-CiIDVvSF.js","sources":["../../scripts/modules/aiCoachDemo.js","../../scripts/ai-coach-demo.js"],"sourcesContent":["function getDocument(candidate) {\n    if (candidate) return candidate;\n    if (typeof document !== 'undefined') return document;\n    return undefined;\n}\n\nfunction getWindow(candidate) {\n    if (candidate) return candidate;\n    if (typeof window !== 'undefined') return window;\n    return undefined;\n}\n\nexport class AICoachDemo {\n    constructor(context = {}) {\n        this.document = getDocument(context.document);\n        this.window = getWindow(context.window);\n        if (!this.document || !this.window) {\n            throw new Error('AICoachDemo requires a document and window');\n        }\n\n        this.isCoaching = false;\n        this.sessionTime = 0;\n        this.repCount = 0;\n        this.calorieCount = 0;\n        this.sessionInterval = null;\n        this.currentExercise = 'squats';\n        this.now = context.now || (() => new Date());\n\n        this.init();\n    }\n\n    init() {\n        this.setupEventListeners();\n        this.setupFeedbackMessages();\n    }\n\n    setupEventListeners() {\n        const startBtn = this.document.getElementById('startCoaching');\n        const stopBtn = this.document.getElementById('stopCoaching');\n        const exerciseSelect = this.document.getElementById('exerciseSelect');\n\n        startBtn?.addEventListener('click', () => this.startCoaching());\n        stopBtn?.addEventListener('click', () => this.stopCoaching());\n        exerciseSelect?.addEventListener('change', (event) => {\n            this.currentExercise = event.target.value;\n            this.updateFeedback(`Exercise changed to ${event.target.value}`);\n        });\n    }\n\n    startCoaching() {\n        if (this.isCoaching) return;\n        this.isCoaching = true;\n        this.resetSession();\n        this.updateControls(true);\n        this.sessionInterval = this.window.setInterval(() => {\n            this.sessionTime++;\n            this.updateSessionDisplay();\n            this.simulateCoaching();\n        }, 1000);\n        this.updateFeedback('AI Coaching session started! Get ready to train!');\n        this.updateFeedback('Stand in front of the camera and begin your exercise.');\n    }\n\n    stopCoaching() {\n        if (!this.isCoaching) return;\n        this.isCoaching = false;\n        if (this.sessionInterval) {\n            this.window.clearInterval(this.sessionInterval);\n            this.sessionInterval = null;\n        }\n        this.updateControls(false);\n        this.updateFeedback(`Session completed! Great work! Total reps: ${this.repCount}`);\n    }\n\n    updateControls(isActive) {\n        const toggle = (id, disabled) => {\n            const element = this.document.getElementById(id);\n            if (element) element.disabled = disabled;\n        };\n        toggle('startCoaching', isActive);\n        toggle('stopCoaching', !isActive);\n        toggle('toggleCamera', !isActive);\n        toggle('captureScreenshot', !isActive);\n    }\n\n    resetSession() {\n        this.sessionTime = 0;\n        this.repCount = 0;\n        this.calorieCount = 0;\n        this.updateSessionDisplay();\n        const feedbackPanel = this.document.getElementById('feedbackPanel');\n        if (feedbackPanel) {\n            feedbackPanel.innerHTML = '<div class=\"text-gray-400 text-sm\"><span class=\"text-neon\">â—‰</span> Session starting...</div>';\n        }\n    }\n\n    simulateCoaching() {\n        if (!this.isCoaching) return;\n        if (Math.random() < 0.1) {\n            this.repCount++;\n            this.calorieCount += Math.floor(Math.random() * 3) + 2;\n            const formScore = Math.floor(Math.random() * 20) + 80;\n            const formScoreNode = this.document.getElementById('formScore');\n            if (formScoreNode) {\n                formScoreNode.textContent = `${formScore}%`;\n            }\n            this.updateFeedback(`Rep ${this.repCount} completed! Form score: ${formScore}%`);\n            if (Math.random() < 0.3) {\n                this.window.setTimeout(() => {\n                    const feedbackMessages = [\n                        'Great form! Keep it up!',\n                        'Lower your squat a bit more for better depth',\n                        'Perfect alignment! Excellent technique',\n                        'Keep your core engaged throughout the movement',\n                        'Nice tempo! Control the descent',\n                        'Excellent! Your form is improving'\n                    ];\n                    const message = feedbackMessages[Math.floor(Math.random() * feedbackMessages.length)];\n                    this.updateFeedback(message);\n                }, 1500);\n            }\n        }\n\n        if (this.sessionTime > 0 && this.sessionTime % 30 === 0) {\n            const encouragements = [\n                'Keep pushing! You\\'re doing great!',\n                'Focus on your breathing',\n                'Maintain that warrior spirit!',\n                'Your strength is showing!',\n                'Ancient power flows through you!'\n            ];\n            const message = encouragements[Math.floor(Math.random() * encouragements.length)];\n            this.updateFeedback(message);\n        }\n    }\n\n    updateSessionDisplay() {\n        const minutes = Math.floor(this.sessionTime / 60);\n        const seconds = this.sessionTime % 60;\n        const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n\n        const timeNode = this.document.getElementById('sessionTime');\n        const repNode = this.document.getElementById('repCount');\n        const calorieNode = this.document.getElementById('calorieCount');\n\n        if (timeNode) timeNode.textContent = timeString;\n        if (repNode) repNode.textContent = this.repCount;\n        if (calorieNode) calorieNode.textContent = this.calorieCount;\n    }\n\n    updateFeedback(message) {\n        const feedbackPanel = this.document.getElementById('feedbackPanel');\n        if (!feedbackPanel) return;\n\n        const timestamp = this.now().toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit'\n        });\n        const feedbackItem = this.document.createElement('div');\n        feedbackItem.className = 'text-sm mb-2 fade-in-up';\n        feedbackItem.innerHTML = `\n            <span class=\"text-gray-500 text-xs\">${timestamp}</span>\n            <div class=\"text-gray-200\">${message}</div>\n        `;\n\n        feedbackPanel.insertBefore(feedbackItem, feedbackPanel.firstChild);\n        while (feedbackPanel.children.length > 10) {\n            feedbackPanel.removeChild(feedbackPanel.lastChild);\n        }\n    }\n\n    setupFeedbackMessages() {\n        const welcomeMessages = [\n            'Welcome to NavaFit AI Coach!',\n            'This is a demo mode showing AI coaching capabilities',\n            'Real implementation uses TensorFlow.js for pose detection',\n            'Click \"Start Coaching Session\" to begin training'\n        ];\n        welcomeMessages.forEach((message, index) => {\n            this.window.setTimeout(() => this.updateFeedback(message), index * 1000);\n        });\n    }\n}\n\nexport function initAICoachDemo(context = {}) {\n    const doc = getDocument(context.document);\n    if (!doc) return null;\n\n    const start = () => new AICoachDemo(context);\n    if (doc.readyState === 'loading') {\n        doc.addEventListener('DOMContentLoaded', start, {\n            once: true\n        });\n        return null;\n    }\n    return start();\n}","import {\n    initAICoachDemo\n} from './modules/aiCoachDemo.js';\n\ninitAICoachDemo();\n\nexport * from './modules/aiCoachDemo.js';\n\n\n\n"],"names":["getDocument","candidate","document","AICoachDemo","constructor","context","this","window","Error","isCoaching","sessionTime","repCount","calorieCount","sessionInterval","currentExercise","now","Date","init","setupEventListeners","setupFeedbackMessages","startBtn","getElementById","stopBtn","exerciseSelect","addEventListener","startCoaching","stopCoaching","event","target","value","updateFeedback","resetSession","updateControls","setInterval","updateSessionDisplay","simulateCoaching","clearInterval","isActive","toggle","id","disabled","element","feedbackPanel","innerHTML","Math","random","floor","formScore","formScoreNode","textContent","setTimeout","feedbackMessages","message","length","encouragements","minutes","seconds","timeString","toString","padStart","timeNode","repNode","calorieNode","timestamp","toLocaleTimeString","hour","minute","second","feedbackItem","createElement","className","insertBefore","firstChild","children","removeChild","lastChild","forEach","index","doc","start","readyState","once","initAICoachDemo"],"mappings":"iCAAA,SAASA,EAAYC,GACjB,OAAIA,IACoB,oBAAbC,SAAiCA,cAA5C,EAEJ,CAQO,MAAMC,EACT,WAAAC,CAAYC,EAAU,IAGlB,GAFAC,KAAKJ,SAAWF,EAAYK,EAAQH,UACpCI,KAAKC,OAAmBF,EAAQE,SAPd,oBAAXA,OAA+BA,YAA1C,IAQSD,KAAKJ,WAAaI,KAAKC,OACxB,MAAM,IAAIC,MAAM,8CAGpBF,KAAKG,YAAa,EAClBH,KAAKI,YAAc,EACnBJ,KAAKK,SAAW,EAChBL,KAAKM,aAAe,EACpBN,KAAKO,gBAAkB,KACvBP,KAAKQ,gBAAkB,SACvBR,KAAKS,IAAMV,EAAQU,KAAA,SAAkBC,MAErCV,KAAKW,MACT,CAEA,IAAAA,GACIX,KAAKY,sBACLZ,KAAKa,uBACT,CAEA,mBAAAD,GACI,MAAME,EAAWd,KAAKJ,SAASmB,eAAe,iBACxCC,EAAUhB,KAAKJ,SAASmB,eAAe,gBACvCE,EAAiBjB,KAAKJ,SAASmB,eAAe,kBAEpD,MAAAD,GAAAA,EAAUI,iBAAiB,QAAS,IAAMlB,KAAKmB,iBAC/C,MAAAH,GAAAA,EAASE,iBAAiB,QAAS,IAAMlB,KAAKoB,gBAC9C,MAAAH,GAAAA,EAAgBC,iBAAiB,SAAWG,IACxCrB,KAAKQ,gBAAkBa,EAAMC,OAAOC,MACpCvB,KAAKwB,eAAe,uBAAuBH,EAAMC,OAAOC,UAEhE,CAEA,aAAAJ,GACQnB,KAAKG,aACTH,KAAKG,YAAa,EAClBH,KAAKyB,eACLzB,KAAK0B,gBAAe,GACpB1B,KAAKO,gBAAkBP,KAAKC,OAAO0B,YAAY,KAC3C3B,KAAKI,cACLJ,KAAK4B,uBACL5B,KAAK6B,oBACN,KACH7B,KAAKwB,eAAe,oDACpBxB,KAAKwB,eAAe,yDACxB,CAEA,YAAAJ,GACSpB,KAAKG,aACVH,KAAKG,YAAa,EACdH,KAAKO,kBACLP,KAAKC,OAAO6B,cAAc9B,KAAKO,iBAC/BP,KAAKO,gBAAkB,MAE3BP,KAAK0B,gBAAe,GACpB1B,KAAKwB,eAAe,8CAA8CxB,KAAKK,YAC3E,CAEA,cAAAqB,CAAeK,GACX,MAAMC,EAAS,CAACC,EAAIC,KAChB,MAAMC,EAAUnC,KAAKJ,SAASmB,eAAekB,GACzCE,MAAiBD,SAAWA,IAEpCF,EAAO,gBAAiBD,GACxBC,EAAO,gBAAiBD,GACxBC,EAAO,gBAAiBD,GACxBC,EAAO,qBAAsBD,EACjC,CAEA,YAAAN,GACIzB,KAAKI,YAAc,EACnBJ,KAAKK,SAAW,EAChBL,KAAKM,aAAe,EACpBN,KAAK4B,uBACL,MAAMQ,EAAgBpC,KAAKJ,SAASmB,eAAe,iBAC/CqB,IACAA,EAAcC,UAAY,gGAElC,CAEA,gBAAAR,GACI,GAAK7B,KAAKG,WAAV,CACA,GAAImC,KAAKC,SAAW,GAAK,CACrBvC,KAAKK,WACLL,KAAKM,cAAgBgC,KAAKE,MAAsB,EAAhBF,KAAKC,UAAgB,EACrD,MAAME,EAAYH,KAAKE,MAAsB,GAAhBF,KAAKC,UAAiB,GAC7CG,EAAgB1C,KAAKJ,SAASmB,eAAe,aAC/C2B,IACAA,EAAcC,YAAc,GAAGF,MAEnCzC,KAAKwB,eAAe,OAAOxB,KAAKK,mCAAmCoC,MAC/DH,KAAKC,SAAW,IAChBvC,KAAKC,OAAO2C,WAAW,KACnB,MAAMC,EAAmB,CACrB,0BACA,+CACA,yCACA,iDACA,kCACA,qCAEEC,EAAUD,EAAiBP,KAAKE,MAAMF,KAAKC,SAAWM,EAAiBE,SAC7E/C,KAAKwB,eAAesB,IACrB,KAEX,CAEA,GAAI9C,KAAKI,YAAc,GAAKJ,KAAKI,YAAc,IAAO,EAAG,CACrD,MAAM4C,EAAiB,CACnB,oCACA,0BACA,gCACA,4BACA,oCAEEF,EAAUE,EAAeV,KAAKE,MAAMF,KAAKC,SAAWS,EAAeD,SACzE/C,KAAKwB,eAAesB,EACxB,CApCsB,CAqC1B,CAEA,oBAAAlB,GACI,MAAMqB,EAAUX,KAAKE,MAAMxC,KAAKI,YAAc,IACxC8C,EAAUlD,KAAKI,YAAc,GAC7B+C,EAAa,GAAGF,EAAQG,WAAWC,SAAS,EAAG,QAAQH,EAAQE,WAAWC,SAAS,EAAG,OAEtFC,EAAWtD,KAAKJ,SAASmB,eAAe,eACxCwC,EAAUvD,KAAKJ,SAASmB,eAAe,YACvCyC,EAAcxD,KAAKJ,SAASmB,eAAe,gBAE7CuC,MAAmBX,YAAcQ,GACjCI,IAASA,EAAQZ,YAAc3C,KAAKK,UACpCmD,IAAaA,EAAYb,YAAc3C,KAAKM,aACpD,CAEA,cAAAkB,CAAesB,GACX,MAAMV,EAAgBpC,KAAKJ,SAASmB,eAAe,iBACnD,IAAKqB,EAAe,OAEpB,MAAMqB,EAAYzD,KAAKS,MAAMiD,mBAAmB,GAAI,CAChDC,KAAM,UACNC,OAAQ,UACRC,OAAQ,YAENC,EAAe9D,KAAKJ,SAASmE,cAAc,OAQjD,IAPAD,EAAaE,UAAY,0BACzBF,EAAazB,UAAY,qDACiBoB,oDACTX,oBAGjCV,EAAc6B,aAAaH,EAAc1B,EAAc8B,YAChD9B,EAAc+B,SAASpB,OAAS,IACnCX,EAAcgC,YAAYhC,EAAciC,UAEhD,CAEA,qBAAAxD,GAC4B,CACpB,+BACA,uDACA,4DACA,oDAEYyD,QAAQ,CAACxB,EAASyB,KAC9BvE,KAAKC,OAAO2C,WAAW,IAAM5C,KAAKwB,eAAesB,GAAkB,IAARyB,IAEnE,GAGG,SAAyBxE,EAAU,IACtC,MAAMyE,EAAM9E,EAAYK,EAAQH,UAChC,IAAK4E,EAAK,OAAO,KAEjB,MAAMC,EAAQ,IAAM,IAAI5E,EAAYE,GACb,YAAnByE,EAAIE,WACJF,EAAItD,iBAAiB,mBAAoBuD,EAAO,CAC5CE,MAAM,IAIPF,GACX,CCjMAG"}