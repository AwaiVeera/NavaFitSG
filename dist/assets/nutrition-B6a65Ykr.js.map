{"version":3,"file":"nutrition-B6a65Ykr.js","sources":["../../scripts/modules/nutritionCalculator.js","../../scripts/nutrition-calculator.js"],"sourcesContent":["function getDocument(candidate) {\n    if (candidate) return candidate;\n    if (typeof document !== 'undefined') return document;\n    return undefined;\n}\n\nconst selectorMap = {\n    age: '#age',\n    gender: '#gender',\n    weight: '#weight',\n    height: '#height',\n    activity: '#activity',\n    goal: '#goal',\n    calorieTarget: '#calorieTarget',\n    proteinTarget: '#proteinTarget',\n    carbTarget: '#carbTarget',\n    fatTarget: '#fatTarget',\n    doshaType: '#doshaType',\n    doshaDescription: '#doshaDescription'\n};\n\nexport function readMacroInputs(doc = getDocument()) {\n    if (!doc) return null;\n    return {\n        age: Number.parseInt(doc.querySelector(selectorMap.age)?.value ?? '0', 10) || 0,\n        gender: doc.querySelector(selectorMap.gender)?.value || 'male',\n        weight: Number.parseFloat(doc.querySelector(selectorMap.weight)?.value ?? '0') || 0,\n        height: Number.parseFloat(doc.querySelector(selectorMap.height)?.value ?? '0') || 0,\n        activity: Number.parseFloat(doc.querySelector(selectorMap.activity)?.value ?? '1') || 1,\n        goal: doc.querySelector(selectorMap.goal)?.value || 'maintain'\n    };\n}\n\nexport function computeMacroPlan(inputs) {\n    if (!inputs) return null;\n    const {\n        age,\n        weight,\n        height\n    } = inputs;\n    if (!age || !weight || !height) return null;\n\n    let bmr = (10 * weight) + (6.25 * height) - (5 * age);\n    bmr += inputs.gender === 'male' ? 5 : -161;\n\n    let calories = bmr * inputs.activity;\n    if (inputs.goal === 'lose') calories -= 500;\n    if (inputs.goal === 'gain') calories += 300;\n\n    const protein = Math.round((calories * 0.3) / 4);\n    const fats = Math.round((calories * 0.25) / 9);\n    const carbs = Math.round((calories - (protein * 4) - (fats * 9)) / 4);\n\n    const bmi = weight / ((height / 100) ** 2);\n    let dosha = 'Pitta';\n    let description = 'Strong metabolism with balanced nutrition needs.';\n    if (bmi < 20) {\n        dosha = 'Vata';\n        description = 'Light build, grounding meals & warm spices.';\n    } else if (bmi > 25) {\n        dosha = 'Kapha';\n        description = 'Earthy build, lighter plates and thermic spices.';\n    }\n\n    return {\n        calories: Math.round(calories),\n        protein,\n        fats,\n        carbs,\n        dosha,\n        description\n    };\n}\n\nexport function renderMacroPlan(doc = getDocument(), plan) {\n    if (!doc || !plan) return;\n    doc.querySelector(selectorMap.calorieTarget).textContent = `${plan.calories} kcal`;\n    doc.querySelector(selectorMap.proteinTarget).textContent = `${plan.protein}g`;\n    doc.querySelector(selectorMap.carbTarget).textContent = `${plan.carbs}g`;\n    doc.querySelector(selectorMap.fatTarget).textContent = `${plan.fats}g`;\n    doc.querySelector(selectorMap.doshaType).textContent = `${plan.dosha} Warrior`;\n    doc.querySelector(selectorMap.doshaDescription).textContent = plan.description;\n}\n\nexport function initNutritionCalculator(context = {}) {\n    const doc = getDocument(context.document);\n    if (!doc) return;\n\n    const trigger = doc.querySelector('[data-nutrition-calc]');\n    if (!trigger) return;\n\n    const handler = () => {\n        const inputs = readMacroInputs(doc);\n        const plan = computeMacroPlan(inputs);\n        if (plan) {\n            renderMacroPlan(doc, plan);\n        }\n    };\n\n    trigger.addEventListener('click', handler);\n    handler();\n\n    return {\n        recalculate: handler\n    };\n}","import {\n    initNutritionCalculator\n} from './modules/nutritionCalculator.js';\n\ninitNutritionCalculator();\n\nexport * from './modules/nutritionCalculator.js';\n\n\n\n"],"names":["getDocument","candidate","document","selectorMap","context","doc","trigger","querySelector","handler","inputs","age","Number","parseInt","_b","_a","value","gender","_c","weight","parseFloat","_e","_d","height","_g","_f","activity","_i","_h","goal","_j","readMacroInputs","plan","bmr","calories","protein","Math","round","fats","carbs","bmi","__pow","dosha","description","computeMacroPlan","textContent","renderMacroPlan","addEventListener","initNutritionCalculator"],"mappings":"gDAAA,SAASA,EAAYC,GACjB,OAAIA,IACoB,oBAAbC,SAAiCA,cAA5C,EAEJ,CAEA,MAAMC,EACG,OADHA,EAEM,UAFNA,EAGM,UAHNA,EAIM,UAJNA,EAKQ,YALRA,EAMI,QANJA,EAOa,iBAPbA,EAQa,iBARbA,EASU,cATVA,EAUS,aAVTA,EAWS,aAXTA,EAYgB,qBAkEf,SAAiCC,EAAU,IAC9C,MAAMC,EAAML,EAAYI,EAAQF,UAChC,IAAKG,EAAK,OAEV,MAAMC,EAAUD,EAAIE,cAAc,yBAClC,IAAKD,EAAS,OAEd,MAAME,EAAU,KACZ,MAAMC,EAvEP,SAAyBJ,EAAML,6BAClC,OAAKK,EACE,CACHK,IAAKC,OAAOC,SAAS,OAAAC,EAAA,OAAAC,EAAAT,EAAIE,cAAcJ,SAAlB,EAAAW,EAAoCC,OAApCF,EAA6C,IAAK,KAAO,EAC9EG,QAAQ,OAAAC,EAAAZ,EAAIE,cAAcJ,aAAqBY,QAAS,OACxDG,OAAQP,OAAOQ,WAAW,OAAAC,EAAA,OAAAC,EAAAhB,EAAIE,cAAcJ,SAAlB,EAAAkB,EAAuCN,OAAvCK,EAAgD,MAAQ,EAClFE,OAAQX,OAAOQ,WAAW,OAAAI,EAAA,OAAAC,EAAAnB,EAAIE,cAAcJ,SAAlB,EAAAqB,EAAuCT,OAAvCQ,EAAgD,MAAQ,EAClFE,SAAUd,OAAOQ,WAAW,OAAAO,EAAA,OAAAC,EAAAtB,EAAIE,cAAcJ,SAAlB,EAAAwB,EAAyCZ,OAAzCW,EAAkD,MAAQ,EACtFE,MAAM,OAAAC,EAAAxB,EAAIE,cAAcJ,aAAmBY,QAAS,YAPvC,IASrB,CA6DuBe,CAAgBzB,GACzB0B,EA5DP,SAA0BtB,GAC7B,IAAKA,EAAQ,OAAO,KACpB,MAAMC,IACFA,EAAAQ,OACAA,EAAAI,OACAA,GACAb,EACJ,IAAKC,IAAQQ,IAAWI,EAAQ,OAAO,KAEvC,IAAIU,EAAO,GAAKd,EAAW,KAAOI,EAAW,EAAIZ,EACjDsB,GAAyB,SAAlBvB,EAAOO,OAAoB,GAAI,IAEtC,IAAIiB,EAAWD,EAAMvB,EAAOgB,SACR,SAAhBhB,EAAOmB,OAAiBK,GAAY,KACpB,SAAhBxB,EAAOmB,OAAiBK,GAAY,KAExC,MAAMC,EAAUC,KAAKC,MAAkB,GAAXH,EAAkB,GACxCI,EAAOF,KAAKC,MAAkB,IAAXH,EAAmB,GACtCK,EAAQH,KAAKC,OAAOH,EAAsB,EAAVC,EAAuB,EAAPG,GAAa,GAE7DE,EAAMrB,EAAWsB,EAAAlB,EAAS,IAAQ,GACxC,IAAImB,EAAQ,QACRC,EAAc,mDASlB,OARIH,EAAM,IACNE,EAAQ,OACRC,EAAc,+CACPH,EAAM,KACbE,EAAQ,QACRC,EAAc,oDAGX,CACHT,SAAUE,KAAKC,MAAMH,GACrBC,UACAG,OACAC,QACAG,QACAC,cAER,CAqBqBC,CAAiBlC,GAC1BsB,GApBL,SAAyB1B,EAAML,IAAe+B,GAC5C1B,GAAQ0B,IACb1B,EAAIE,cAAcJ,GAA2ByC,YAAc,GAAGb,EAAKE,gBACnE5B,EAAIE,cAAcJ,GAA2ByC,YAAc,GAAGb,EAAKG,WACnE7B,EAAIE,cAAcJ,GAAwByC,YAAc,GAAGb,EAAKO,SAChEjC,EAAIE,cAAcJ,GAAuByC,YAAc,GAAGb,EAAKM,QAC/DhC,EAAIE,cAAcJ,GAAuByC,YAAc,GAAGb,EAAKU,gBAC/DpC,EAAIE,cAAcJ,GAA8ByC,YAAcb,EAAKW,YACvE,CAaYG,CAAgBxC,EAAK0B,IAI7BzB,EAAQwC,iBAAiB,QAAStC,GAClCA,GAKJ,CCrGAuC"}